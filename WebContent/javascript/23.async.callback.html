<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			//비동기 : 언제 완료될지 모르지만 내일을 하는것, 완료될때 callback이 실행 되는것
			//리턴 변수
			var timerId1;
			
			function fun1(){
				console.log("fun1실행 시작");
				//Callback : 지금 당장 실행하는것이 아니라 특정시간이나 사건이후에 실행하는 메소드
				//setTimeout(함수,3초뒤에) : 끝나는 시간을 지정하겠다.(ex.지금으로 부터 특정 시간이후 무언가를 실행하겠다.)
				//1번(함수 안에서 만들기)
				timerId1=window.setTimeout(function(){
					console.log("알람이 울립니다.");
				}, 3000);
				//2번(함수를 만들어놓고 불러오기)
				timerId1=window.setTimeout(alarm,3000);
				function alarm(){
					console.log("알람이 울립니다.");
				}
				//3번
				timerId1=window.setTimeout(()=>{
					console.log("알람이 울립니다.");
				},3000);
				//3초를 뒤에 실행할 콜백만 나두고 흘러간다. 알람이 울립니다.보다 종료가 먼저 나온다.
				//javascript 튜토리얼 -> async ->callback
				console.log("fun1실행 종료");
			}
			function fun2(){
				//clearTimeout() : 설정된 시간을 지운다. setTimeout()에서 return된 값을 넣는다.
				//3초뒤에 실행되야할 메소드가 실행되지 않는다.
				window.clearTimeout(timerId1);
				console.log("타이머가 중지되었습니다.");
			}
			
		</script>
	</head>
	<body>
		<div class="card">
			<div class="card-header">Callback</div>
			<div class="card-body">
				<button onclick="fun1()" class="btn-info btn-sm">주어진 시간 후에 실행</button>
				<button onclick="fun2()" class="btn-info btn-sm">주어진 시간 전에 취소</button>
			</div>
		</div>
	</body>
</html>